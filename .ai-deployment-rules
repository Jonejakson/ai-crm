# –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê –î–ï–ü–õ–û–Ø - –ù–ê–í–°–ï–ì–î–ê

## ‚ö†Ô∏è –ó–ê–ü–†–ï–©–ï–ù–û –ù–ê–í–°–ï–ì–î–ê:

1. **–ù–ò–ö–û–ì–î–ê –ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:**
   - `docker-compose down -v` (—É–¥–∞–ª—è–µ—Ç volumes —Å –ë–î!)
   - `docker-compose build && docker-compose up -d` (–º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –æ–±—Ä–∞–∑)
   - –õ—é–±—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å `-v` —Ñ–ª–∞–≥–æ–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ë–î

2. **–ù–ò–ö–û–ì–î–ê –ù–ï –£–î–ê–õ–Ø–¢–¨:**
   - Volume `postgres_data` –∏–ª–∏ –ª—é–±—ã–µ volumes —Å –¥–∞–Ω–Ω—ã–º–∏
   - –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
   - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## ‚úÖ –í–°–ï–ì–î–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:

**–ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –ü–†–ê–í–ò–õ–¨–ù–´–ô –ú–ï–¢–û–î –î–ï–ü–õ–û–Ø:**

```bash
cd /opt/flamecrm
git pull
./scripts/safe-deploy.sh
```

**–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–Ω–µ —É–¥–∞–ª—è–µ—Ç volumes)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —Å Docker-–æ–±—Ä–∞–∑–∞–º–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìã –ü–†–û–¶–ï–°–° –î–ï–ü–õ–û–Ø (–°–¢–ê–ù–î–ê–†–¢–ù–´–ô):

1. –õ–æ–∫–∞–ª—å–Ω–æ: `git add . && git commit -m "..." && git push`
2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: `cd /opt/flamecrm && git pull && ./scripts/safe-deploy.sh`
3. –ì–û–¢–û–í–û - –æ–¥–∏–Ω —Ä–∞–∑, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–±–æ—Ä–æ–∫

## üö® –ï–°–õ–ò –í–û–ó–ù–ò–ö–õ–ê –û–®–ò–ë–ö–ê "No such image":

**–ù–ï –ü–ê–ù–ò–ö–û–í–ê–¢–¨!** –°–∫—Ä–∏–ø—Ç `safe-deploy.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑
- –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –°–æ—Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

**–ù–ï –ó–ê–ü–£–°–ö–ê–¢–¨ –ü–û–í–¢–û–†–ù–û** - —Å–∫—Ä–∏–ø—Ç —Å–∞–º –≤—Å–µ –∏—Å–ø—Ä–∞–≤–∏—Ç!

## üíæ –ë–ê–ó–ê –î–ê–ù–ù–´–•:

- Volume: `postgres_data` - –ù–ò–ö–û–ì–î–ê –ù–ï –£–î–ê–õ–Ø–¢–¨
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–∞–º
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## ‚ö° –ü–†–ê–í–ò–õ–û:

**–û–î–ò–ù –î–ï–ü–õ–û–ô = –û–î–ò–ù –ó–ê–ü–£–°–ö safe-deploy.sh**

–ù–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥!
–°–∫—Ä–∏–ø—Ç —Å–∞–º –≤—Å–µ —Å–¥–µ–ª–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

**–≠–¢–û –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ü–†–û–î–£–ö–¢ –ù–ê –†–ï–õ–ò–ó–ï!**
**–ü–û–¢–ï–†–Ø –î–ê–ù–ù–´–• –ù–ï–î–û–ü–£–°–¢–ò–ú–ê!**

