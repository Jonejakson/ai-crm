# –î–µ–ø–ª–æ–π CRM —Å–∏—Å—Ç–µ–º—ã –Ω–∞ Beget

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Beget

–î–ª—è –¥–µ–ø–ª–æ—è Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å PostgreSQL –Ω–∞ Beget –≤–∞–º **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω VPS**, –∞ –Ω–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à —Ç–∞—Ä–∏—Ñ Beget:**
- ‚úÖ **VPS** - –ø–æ–¥–æ–π–¥–µ—Ç, –º–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å
- ‚ùå **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥** - –ù–ï –ø–æ–¥–æ–π–¥–µ—Ç –¥–ª—è Node.js/Next.js

–ï—Å–ª–∏ —É –≤–∞—Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –Ω–∏–∂–µ –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ VPS —Ç–∞—Ä–∏—Ñ Beget.

---

## üìã –í–∞—Ä–∏–∞–Ω—Ç 1: –î–µ–ø–ª–æ–π –Ω–∞ Beget VPS

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS –ø–æ SSH:**
   ```bash
   ssh root@–≤–∞—à_ip_–∞–¥—Ä–µ—Å
   # –∏–ª–∏
   ssh –≤–∞—à_–ª–æ–≥–∏–Ω@–≤–∞—à_ip_–∞–¥—Ä–µ—Å
   ```

2. **–û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É:**
   ```bash
   sudo apt update && sudo apt upgrade -y
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 20:**
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js —á–µ—Ä–µ–∑ NodeSource
   curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
   sudo apt-get install -y nodejs
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
   node --version  # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x
   npm --version
   ```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL:**
   ```bash
   sudo apt-get install postgresql postgresql-contrib -y
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞
   sudo systemctl status postgresql
   ```

5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º:**
   ```bash
   sudo npm install -g pm2
   ```

6. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx (–¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è):**
   ```bash
   sudo apt-get install nginx -y
   ```

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   ```bash
   sudo -u postgres psql
   ```

2. **–í –∫–æ–Ω—Å–æ–ª–∏ PostgreSQL –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**
   ```sql
   CREATE DATABASE crm_db;
   CREATE USER crm_user WITH PASSWORD '–≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å';
   GRANT ALL PRIVILEGES ON DATABASE crm_db TO crm_user;
   \q
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   psql -U crm_user -d crm_db -h localhost
   # –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∑–∞—Ç–µ–º –≤—ã–π–¥–∏—Ç–µ: \q
   ```

---

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git (–µ—Å–ª–∏ –Ω–µ—Ç):**
   ```bash
   sudo apt-get install git -y
   ```

2. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   cd /var/www  # –∏–ª–∏ –≤ –¥—Ä—É–≥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
   git clone https://github.com/–≤–∞—à_–ª–æ–≥–∏–Ω/–≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git crm-system
   cd crm-system
   ```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ SFTP/FTP**

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ (–∫—Ä–æ–º–µ `node_modules`) –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ FileZilla –∏–ª–∏ WinSCP
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   cd /var/www/crm-system  # –∏–ª–∏ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É
   npm install --production
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:**
   ```bash
   nano .env
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```env
   # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
   DATABASE_URL="postgresql://crm_user:–≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å@localhost:5432/crm_db?schema=public"
   
   # NextAuth
   AUTH_SECRET="—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ_—Å–ª—É—á–∞–π–Ω—É—é_—Å—Ç—Ä–æ–∫—É_32_—Å–∏–º–≤–æ–ª–∞"
   NEXTAUTH_URL="https://–≤–∞—à-–¥–æ–º–µ–Ω.ru"
   
   # OpenAI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   OPENAI_API_KEY="–≤–∞—à_openai_–∫–ª—é—á"
   
   # –û–∫—Ä—É–∂–µ–Ω–∏–µ
   NODE_ENV=production
   ```

4. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ AUTH_SECRET:**
   ```bash
   openssl rand -base64 32
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ AUTH_SECRET
   ```

5. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   npm run db:generate
   npm run db:deploy
   ```

6. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   npm run build
   ```

---

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ PM2

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `ecosystem.config.js` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   nano ecosystem.config.js
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```javascript
   module.exports = {
     apps: [{
       name: 'crm-system',
       script: 'npm',
       args: 'start',
       cwd: '/var/www/crm-system',
       instances: 1,
       exec_mode: 'fork',
       env: {
         NODE_ENV: 'production',
         PORT: 3000
       },
       error_file: './logs/err.log',
       out_file: './logs/out.log',
       log_date_format: 'YYYY-MM-DD HH:mm:ss Z',
       merge_logs: true,
       autorestart: true,
       max_memory_restart: '1G'
     }]
   };
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤:**
   ```bash
   mkdir -p logs
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   pm2 start ecosystem.config.js
   pm2 save
   pm2 startup
   # –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∂–µ—Ç PM2 (–¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ)
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   ```bash
   pm2 status
   pm2 logs crm-system
   ```

---

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**
   ```bash
   sudo nano /etc/nginx/sites-available/crm-system
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```nginx
   server {
       listen 80;
       server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru www.–≤–∞—à-–¥–æ–º–µ–Ω.ru;

       location / {
           proxy_pass http://localhost:3000;
           proxy_http_version 1.1;
           proxy_set_header Upgrade $http_upgrade;
           proxy_set_header Connection 'upgrade';
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
           proxy_set_header X-Forwarded-Proto $scheme;
           proxy_cache_bypass $http_upgrade;
       }
   }
   ```

3. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   sudo ln -s /etc/nginx/sites-available/crm-system /etc/nginx/sites-enabled/
   sudo nginx -t  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   sudo systemctl reload nginx
   ```

---

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot:**
   ```bash
   sudo apt-get install certbot python3-certbot-nginx -y
   ```

2. **–ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:**
   ```bash
   sudo certbot --nginx -d –≤–∞—à-–¥–æ–º–µ–Ω.ru -d www.–≤–∞—à-–¥–æ–º–µ–Ω.ru
   ```

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
   ```bash
   sudo certbot renew --dry-run
   ```

---

### –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –≤ Beget

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Beget
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–î–æ–º–µ–Ω—ã"
3. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –∏–ª–∏ –ø–æ–¥–¥–æ–º–µ–Ω
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ (A-–∑–∞–ø–∏—Å—å –Ω–∞ IP –≤–∞—à–µ–≥–æ VPS)

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ:

```bash
cd /var/www/crm-system
git pull  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Git
npm install --production
npm run db:generate
npm run build
pm2 restart crm-system
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
pm2 logs crm-system
pm2 monit
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
```bash
pm2 status
sudo systemctl status nginx
sudo systemctl status postgresql
```

---

## ‚ùå –ï—Å–ª–∏ —É –≤–∞—Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ Beget

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ Beget **–ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Node.js**. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1: Vercel (–ë–ï–°–ü–õ–ê–¢–ù–û, –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ GitHub
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PostgreSQL (–ø–ª–∞—Ç–Ω–æ) –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π (Neon, Supabase)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SSL
- ‚úÖ CDN –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**

1. **–ó–∞–ª–∏—Ç—å –∫–æ–¥ –Ω–∞ GitHub:**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/–≤–∞—à_–ª–æ–≥–∏–Ω/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git
   git push -u origin main
   ```

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ Vercel:**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://vercel.com
   - –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
   - –ù–∞–∂–º–∏—Ç–µ "Add New Project"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Next.js

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí Environment Variables
   - –î–æ–±–∞–≤—å—Ç–µ:
     - `DATABASE_URL` (–∏–∑ Neon/Supabase)
     - `AUTH_SECRET`
     - `NEXTAUTH_URL` (–≤–∞—à –¥–æ–º–µ–Ω –Ω–∞ Vercel)
     - `OPENAI_API_KEY`

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   - –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –Ω–∞ Neon (https://neon.tech) - –±–µ—Å–ø–ª–∞—Ç–Ω–æ
   - –ò–ª–∏ Supabase (https://supabase.com) - –±–µ—Å–ø–ª–∞—Ç–Ω–æ
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `DATABASE_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Vercel

5. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:**
   ```bash
   # –õ–æ–∫–∞–ª—å–Ω–æ
   vercel env pull .env.local
   npm run db:deploy
   ```

6. **–î–µ–ø–ª–æ–π:**
   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ GitHub
   - –ü–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: `https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.vercel.app`

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–¥–æ 100GB —Ç—Ä–∞—Ñ–∏–∫–∞/–º–µ—Å—è—Ü)

---

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2: Railway (–ë–ï–°–ü–õ–ê–¢–ù–û, —Å –ë–î)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ ($5 –∫—Ä–µ–¥–∏—Ç–æ–≤/–º–µ—Å—è—Ü)
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PostgreSQL
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ GitHub
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç ‚Üí "Deploy from GitHub repo"
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
5. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL: "New" ‚Üí "Database" ‚Üí "PostgreSQL"
6. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç `DATABASE_URL`
7. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `AUTH_SECRET`
   - `NEXTAUTH_URL`
   - `OPENAI_API_KEY`
8. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ ($5 –∫—Ä–µ–¥–∏—Ç–æ–≤/–º–µ—Å—è—Ü, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)

---

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 3: Render (–ë–ï–°–ü–õ–ê–¢–ù–û)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PostgreSQL
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

**–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://render.com
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. –°–æ–∑–¥–∞–π—Ç–µ "New Web Service" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Build Command:** `npm install && npm run build`
   - **Start Command:** `npm start`
5. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL: "New" ‚Üí "PostgreSQL"
6. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
7. –ù–∞–∂–º–∏—Ç–µ "Create Web Service"

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–∑–∞—Å—ã–ø–∞–µ—Ç" –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è CRM —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:**

1. **–ï—Å–ª–∏ —É –≤–∞—Å VPS Beget** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤—ã—à–µ (–í–∞—Ä–∏–∞–Ω—Ç 1)
2. **–ï—Å–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥** ‚Üí –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **Vercel + Neon PostgreSQL** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –ø—Ä–æ—â–µ)

**–ü–æ—á–µ–º—É Vercel –ª—É—á—à–µ –¥–ª—è Next.js:**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è Next.js
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ GitHub
- CDN –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs crm-system

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
pm2 env crm-system

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
pm2 restart crm-system
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ PostgreSQL
sudo systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql -U crm_user -d crm_db -h localhost
```

### Nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo tail -f /var/log/nginx/error.log

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx
sudo systemctl reload nginx
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs crm-system`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `docs/TROUBLESHOOTING.md`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

