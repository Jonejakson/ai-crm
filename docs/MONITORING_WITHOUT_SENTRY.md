# üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ë–ï–ó Sentry

## –ü—Ä–æ–±–ª–µ–º–∞ —Å Sentry

–ï—Å–ª–∏ Sentry –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (403 Forbidden, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å), –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑ Sentry**.

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Sentry

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **Health check** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **API wrapper** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å/—Ñ–∞–π–ª—ã

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑ Sentry

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π –ª–æ–≥–≥–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–¢–µ–∫—É—â–∏–π `lib/logger.ts` **—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Sentry**:
- –ï—Å–ª–∏ `SENTRY_DSN` –Ω–µ —É–∫–∞–∑–∞–Ω - Sentry –ø—Ä–æ—Å—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –í—Å–µ –ª–æ–≥–∏ –∏–¥—É—Ç –≤ –∫–æ–Ω—Å–æ–ª—å
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**–ü—Ä–æ—Å—Ç–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ Sentry DSN –≤ `.env`:**
```env
# –ü—Ä–æ—Å—Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏:
# NEXT_PUBLIC_SENTRY_DSN=
# SENTRY_DSN=
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–±—Ä–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Sentry:

1. –ó–∞–º–µ–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª–∞—Ö:
```typescript
// –ë—ã–ª–æ:
import { logger } from "@/lib/logger";

// –°—Ç–∞–ª–æ:
import { logger } from "@/lib/logger-simple";
```

2. –£–¥–∞–ª–∏—Ç–µ Sentry –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
npm uninstall @sentry/nextjs
```

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞

–õ–æ–≥–≥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ** —Å Sentry –∏–ª–∏ –±–µ–∑:

```typescript
import { logger } from "@/lib/logger";

// –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ
logger.info("–°–æ–æ–±—â–µ–Ω–∏–µ", { context });
logger.error("–û—à–∏–±–∫–∞", error, { context });
logger.logRequest("GET", "/api/contacts", 200, 150);
```

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### –í development
–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `npm run dev`

### –í production (Vercel)
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Vercel Dashboard
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –í–∫–ª–∞–¥–∫–∞ **Logs** - –≤—Å–µ –ª–æ–≥–∏ —Ç–∞–º

### –í production (—Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä)
–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ stdout/stderr, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª:
```bash
npm start > logs/app.log 2>&1
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ Sentry

### 1. Health Check
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/health` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (UptimeRobot, Pingdom)
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ email –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø–∏—Å—å –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª—ã:
```typescript
import fs from 'fs';
import { logger } from '@/lib/logger';

// –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
const logFile = fs.createWriteStream('logs/app.log', { flags: 'a' });
console.log = (...args) => {
  logFile.write(args.join(' ') + '\n');
  process.stdout.write(args.join(' ') + '\n');
};
```

### 3. –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã)

**UptimeRobot** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):
- 50 –º–æ–Ω–∏—Ç–æ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- https://uptimerobot.com

**Better Stack** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω):
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ uptime
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–ª–µ—Ä—Ç—ã
- https://betterstack.com

## ‚úÖ –ò—Ç–æ–≥

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó Sentry:**
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Health check - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ - —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–æ—Å—Ç–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ `SENTRY_DSN` –≤ `.env` –∏ –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!**

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π?** –°–º. `MONITORING_SETUP.md` –∏–ª–∏ `MONITORING_ALTERNATIVES.md`

